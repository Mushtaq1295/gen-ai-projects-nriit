@app.route('/upload', methods=['POST']) def upload_file(): if 'file' not in
request.files: flash("No file part", "danger") return redirect(request.url) file
= request.files['file'] if file.filename == '': flash("No selected file",
"danger") return redirect(request.url) try: # Upload file to Cloudinary as a raw
file upload_result = cloudinary.uploader.upload(file, resource_type="raw")
file_url = upload_result['secure_url'] flash("File uploaded successfully",
"success") return redirect(url_for('view_file', file_url=file_url)) except
Exception as e: flash(f"An error occurred: {str(e)}", "danger") return
redirect('/')
